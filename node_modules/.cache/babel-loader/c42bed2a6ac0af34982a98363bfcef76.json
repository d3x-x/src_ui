{"ast":null,"code":"import React,{Component}from'react';import{Formik,Form}from'formik';import*as Yup from'yup';import rpc from'utils/rpc';import{showNotification}from'utils/notifications';import sounds from'utils/sounds';import GradientButton from'components/Common/gradient-button';import Title from'./partials/title';import Field from'./partials/field';export default class BankHouse extends Component{constructor(){super(...arguments);this.state={price:0};}async getPrice(house){const price=await rpc.callServer('House-GetTax',house);this.setState(()=>({price}));}async onSubmit(values,_ref){let{resetForm}=_ref;try{await rpc.callServer('Bank-PayHouse',[values.number,values.days]);resetForm();sounds.playPayment('bank');}catch(err){if(err.msg)showNotification('error',err.msg);}}render(){const{price}=this.state;return/*#__PURE__*/React.createElement(\"div\",{className:\"bank_tab\"},/*#__PURE__*/React.createElement(Formik,{initialValues:{number:'',days:''},validationSchema:Yup.object({number:Yup.number().required().min(0).max(100000),days:Yup.number().required().min(1).max(1000)}),onSubmit:this.onSubmit.bind(this)},formik=>/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Title,null,\"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0430 \\u0431\\u0443\\u0434\\u0438\\u043D\\u043A\\u0443\"),/*#__PURE__*/React.createElement(\"div\",{className:\"bank_fields\"},/*#__PURE__*/React.createElement(Field,{type:\"number\",name:\"number\",placeholder:\"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0431\\u0443\\u0434\\u0438\\u043D\\u043A\\u0443\",label:\"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u043C\\u043E\\u0436\\u043D\\u0430 \\u0434i\\u0437\\u043D\\u0430\\u0442\\u0438\\u0441\\u044F \\u0443 \\u043C\\u0435\\u043D\\u044E \\u0431\\u0443\\u0434\\u0438\\u043D\\u043A\\u0443\",onBlur:e=>this.getPrice(+e.target.value)}),/*#__PURE__*/React.createElement(Field,{type:\"number\",name:\"days\",placeholder:\"\\u041Ai\\u043B\\u044C\\u043Ai\\u0441\\u0442\\u044C \\u0434\\u043Di\\u0432\",label:\"\\u0421\\u0443\\u043C\\u0430 \\u0434\\u043E \\u043E\\u043F\\u043B\\u0430\\u0442\\u0438 \".concat(+formik.values.days*price,\"$\")})),/*#__PURE__*/React.createElement(GradientButton,{type:\"submit\",color:\"purple\"},\"\\u041Fi\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0438\"))));}}","map":null,"metadata":{},"sourceType":"module"}