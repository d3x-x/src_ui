{"ast":null,"code":"import React,{Component}from'react';import rpc from'utils/rpc';import classNames from'classnames';// @ts-ignore\nimport AnimatedNumber from'animated-number-react';import prettify from'utils/prettify';import PrimaryTitle from'components/Common/primary-title';import GradientButton from'components/Common/gradient-button';import OutlineButton from'components/Common/outline-button';import OutlineInput from'components/Common/outline-input';const types={'9mm':'Малий','7.62mm':'Великий','12gauge':'Дроб'};export default class WeaponsAmmo extends Component{constructor(){super(...arguments);this.state={type:'9mm',amount:0};}setType(name){this.setState(()=>({type:name}));}setAmount(amount){this.setState(()=>({amount}));}async buy(payment){const{type,amount}=this.state;if(!amount||amount<0||!types[type])throw new Error('wrong data');await rpc.callServer('Weapons-BuyAmmo',[type,amount,payment]);this.setState(()=>({amount:0}));}render(){const{type,amount}=this.state;return/*#__PURE__*/React.createElement(\"div\",{className:\"weapons_ammo\"},/*#__PURE__*/React.createElement(PrimaryTitle,{className:\"weapons_ammo-title\"},\"\\u041F\\u0430\\u0442\\u0440\\u043E\\u043D\\u0438\"),/*#__PURE__*/React.createElement(\"div\",{className:\"weapons_ammo-types\"},Object.entries(types).map(_ref=>{let[name,title]=_ref;return/*#__PURE__*/React.createElement(OutlineButton,{className:classNames('weapons_ammo-type',{active:type===name}),key:name,onClick:()=>this.setType(name)},title);})),/*#__PURE__*/React.createElement(\"div\",{className:\"weapons_ammo-amount\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"title\"},\"\\u041Ai\\u043B\\u044C\\u043Ai\\u0441\\u0442\\u044C\"),/*#__PURE__*/React.createElement(OutlineInput,{value:amount,max:1000,min:0,onChange:this.setAmount.bind(this)})),/*#__PURE__*/React.createElement(\"div\",{className:\"weapons_ammo-footer\"},/*#__PURE__*/React.createElement(AnimatedNumber,{className:\"weapons_ammo-price\",value:this.props.prices[type]*amount,duration:300,formatValue:prettify.price}),/*#__PURE__*/React.createElement(GradientButton,{className:\"weapons_ammo-submit\",color:\"green\",onClick:()=>this.props.showPayment(this.buy.bind(this))},\"\\u041A\\u0443\\u043F\\u0438\\u0442\\u0418\")));}}","map":null,"metadata":{},"sourceType":"module"}