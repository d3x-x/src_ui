{"ast":null,"code":"import React,{Component}from'react';import{Page,Navbar,List,ListItem}from'framework7-react';import rpc from'utils/rpc';export default class Wanted extends Component{constructor(){super(...arguments);this.state={loading:false,hasMore:true,items:[]};}componentDidMount(){this.loadMore();}async loadMore(){const{items,hasMore,loading}=this.state;if(loading||!hasMore)return;this.setState(()=>({loading:true}));const data=await rpc.callServer('WantedList-GetItems',items.length);this.setState(state=>({items:[...state.items,...data],hasMore:data.length>=10,loading:false}));}addItem(item){this.setState(state=>({items:[item,...state.items]}));}removeItem(id){this.setState(state=>({items:state.items.filter(item=>item.id!==id)}));}render(){const{items,hasMore,loading}=this.state;return/*#__PURE__*/React.createElement(Page,{infinite:hasMore,infinitePreloader:loading,onInfinite:this.loadMore.bind(this)},/*#__PURE__*/React.createElement(Navbar,{title:\"\\u0420\\u043E\\u0437\\u0448\\u0443\\u043A\",backLink:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/React.createElement(List,{mediaList:true,inset:true},items.map((item,index)=>/*#__PURE__*/React.createElement(ListItem,{link:\"item/\",key:index,title:item.suspect,text:item.reason,badge:item.priority,badgeColor:item.priority<3?'gray':item.priority>=5?'orange':'blue',routeProps:{data:item,onRemove:this.removeItem.bind(this)}}))));}}","map":null,"metadata":{},"sourceType":"module"}