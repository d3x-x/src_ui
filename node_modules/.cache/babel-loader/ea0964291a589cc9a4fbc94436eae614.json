{"ast":null,"code":"import React from'react';import{trim}from'lodash';import{Formik,Form}from'formik';import*as Yup from'yup';import rpc from'utils/rpc';import{showNotification}from'utils/notifications';import GradientButton from'components/Common/gradient-button';import OutlineButton from'components/Common/outline-button';import PrimaryTitle from'components/Common/primary-title';import Field from'./field';export default function Forgot(_ref){let{toLogin}=_ref;async function onSubmit(values,_ref2){let{setFieldError}=_ref2;const data={email:trim(values.email).toLowerCase(),password:trim(values.password),code:trim(values.code)};try{await rpc.callServer('Auth-ResetPassword',data);toLogin();}catch(err){setFieldError(err.field,err.message);}}return/*#__PURE__*/React.createElement(\"div\",{className:\"auth_forgot auth_register\"},/*#__PURE__*/React.createElement(PrimaryTitle,{className:\"auth_title\"},\"\\u0412\\u0456\\u0434\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u044F \\u043F\\u0430\\u0440\\u043E\\u043B\\u044E\"),/*#__PURE__*/React.createElement(Formik,{initialValues:{email:'',password:'',passwordConfirm:'',code:''},validationSchema:Yup.object({email:Yup.string().email('Некоректний e-mail').required('заповніть поле'),password:Yup.string().min(4,'мін. довжина 4 символи').max(32,'Макс. довжина 32 символи').required('заповніть поле'),passwordConfirm:Yup.string().required('Паролі не співпадають').oneOf([Yup.ref('password'),null],'Паролі не співпадають'),code:Yup.string().required('заповніть поле')}),onSubmit:onSubmit},formik=>/*#__PURE__*/React.createElement(Form,{className:\"auth_form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"auth_form-container\"},/*#__PURE__*/React.createElement(Field,{title:\"E-mail\",type:\"email\",name:\"email\",placeholder:\"\"}),/*#__PURE__*/React.createElement(GradientButton,{type:\"button\",color:\"green\",onClick:()=>{if(formik.values.email&&!formik.errors.email)rpc.callServer('Auth-GetResetCode',trim(formik.values.email).toLowerCase()).then(()=>showNotification('info','Перевірте ваш e-mail')).catch(()=>formik.setFieldError('email','Обліковий запис не знайдено'));}},\"\\u041D\\u0430\\u0434\\u0456\\u0441\\u043B\\u0430\\u0442\\u0438 \\u043A\\u043E\\u0434\"),/*#__PURE__*/React.createElement(\"div\",{className:\"auth_form-group\"},/*#__PURE__*/React.createElement(Field,{title:\"\\u041D\\u043E\\u0432\\u0438\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:\"password\",name:\"password\",placeholder:\"********\"}),/*#__PURE__*/React.createElement(Field,{title:\"\\u041F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0436\\u0435\\u043D\\u043D\\u044F\",type:\"password\",name:\"passwordConfirm\",placeholder:\"********\"})),/*#__PURE__*/React.createElement(Field,{className:\"auth_form-part\",title:\"\\u043A\\u043E\\u0434 \\u043F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0436\\u0435\\u043D\\u043D\\u044F\",type:\"text\",name:\"code\",placeholder:\"\\u041F\\u0435\\u0440\\u0435\\u0432\\u0456\\u0440\\u0442\\u0435 \\u0441\\u0432\\u0456\\u0439 e-mail\"})),/*#__PURE__*/React.createElement(GradientButton,{type:\"submit\"},\"\\u041F\\u0456\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0438\"))),/*#__PURE__*/React.createElement(OutlineButton,{className:\"auth_back-btn\",onClick:toLogin},\"\\u041D\\u0430\\u0437\\u0430\\u0434\"));}","map":null,"metadata":{},"sourceType":"module"}