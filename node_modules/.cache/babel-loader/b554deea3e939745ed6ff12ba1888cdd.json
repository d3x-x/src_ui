{"ast":null,"code":"import React,{Component}from'react';import rpc from'utils/rpc';import{showNotification}from'utils/notifications';import logo from\"assets/images/phone/racoon-logo.svg\";import Form from'./form';import Prices from'./prices';import Button from'./button';export default class Sim extends Component{constructor(){super(...arguments);this.state={phoneNumber:'',prices:{random:0,custom:0}};}componentDidMount(){this.fetchData();}async fetchData(){const data=await rpc.callServer('Phone-GetNumberData');this.setState(()=>data);}openForm(name){this.setState(()=>({form:name}));}async buy(num){try{const updated=await rpc.callServer('Phone-BuyNumber',num===null||num===void 0?void 0:num.trim());this.setState(()=>({phoneNumber:updated,form:undefined}));}catch(err){if(err.msg)showNotification('error',err.msg);}}render(){const{form,phoneNumber,prices}=this.state;return/*#__PURE__*/React.createElement(\"div\",{className:\"sim\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sim_logo\"},/*#__PURE__*/React.createElement(\"img\",{src:logo,alt:\"racoon\"})),form?/*#__PURE__*/React.createElement(Form,{submit:this.buy.bind(this),close:this.openForm.bind(this,undefined),custom:form==='custom'}):/*#__PURE__*/React.createElement(\"form\",{className:\"sim_form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:phoneNumber||'Отсутствует',readOnly:true}),/*#__PURE__*/React.createElement(Button,{onClick:this.openForm.bind(this,'random')},\"\\u0412\\u0438\\u043F\\u0430\\u0434\\u043A\\u043E\\u0432\\u0438\\u0439\"),/*#__PURE__*/React.createElement(Button,{onClick:this.openForm.bind(this,'custom')},\"\\u0411\\u0430\\u0436\\u0430\\u043D\\u0438\\u0439\")),/*#__PURE__*/React.createElement(Prices,{random:prices.random,custom:prices.custom}));}}","map":null,"metadata":{},"sourceType":"module"}