{"ast":null,"code":"import React from'react';import{Page,Navbar,List,ListInput,ListButton}from'framework7-react';import{Formik,Form}from'formik';import*as Yup from'yup';import{showNotification}from'utils/notifications';import rpc from'utils/rpc';export default function UserArrest(_ref){let{f7router,userId}=_ref;async function submitArrest(term,reason){try{if(!userId)return;await rpc.callServer('WantedList-Arrest',[userId,term,reason]);f7router.back();}catch(err){if(err.msg)showNotification('error',err.msg);}}return/*#__PURE__*/React.createElement(Page,null,/*#__PURE__*/React.createElement(Navbar,{title:\"\\u0410\\u0440\\u0435\\u0441\\u0442\",backLink:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/React.createElement(Formik,{initialValues:{term:'',reason:''},validationSchema:Yup.object({term:Yup.number().required().min(1).max(100),reason:Yup.string().required().min(1).max(100)}),onSubmit:values=>submitArrest(+values.term,values.reason)},_ref2=>{let{values,handleChange,submitForm}=_ref2;return/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(ListInput,{clearButton:true,name:\"term\",type:\"number\",placeholder:\"\\u0422\\u0435\\u0440\\u043Ci\\u043D\",info:\"\\u0412\\u043A\\u0430\\u0436i\\u0442\\u044C \\u0447\\u0430\\u0441 \\u0430\\u0440\\u0435\\u0448\\u0442\\u0443 \\u0432i\\u0434 1 \\u0434\\u043E 100 \\u0445\\u0432\\u0438\\u043B\\u0438\\u043D\",value:values.term,onChange:handleChange,onInputClear:handleChange}),/*#__PURE__*/React.createElement(ListInput,{clearButton:true,name:\"reason\",type:\"text\",placeholder:\"\\u041F\\u0440\\u0438\\u0447\\u0438\\u043D\\u0430\",info:\"\\u041A\\u043E\\u0440\\u043E\\u0442\\u043A\\u043E \\u043E\\u043F\\u0438\\u0448i\\u0442\\u044C \\u043F\\u0440\\u0438\\u0447\\u0438\\u043D\\u0443\",value:values.reason,onChange:handleChange,onInputClear:handleChange}),/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(ListButton,{title:\"\\u0417\\u0430\\u0430\\u0440\\u0435\\u0448\\u0442\\u0443\\u0432\\u0430\\u0442\\u0438\",onClick:submitForm})));}));}","map":null,"metadata":{},"sourceType":"module"}