{"ast":null,"code":"import React,{Component}from'react';import rpc from'utils/rpc';import Slider from'./slider';import Options from'./options';const options={nose:'Ніс',brows:'Брови',cheeks:'Скули',eyes:'Очі',lips:'Губи',jaw:'Челюсть',chin:'Підборіддя'};const items={nose:['Ширина носа','Висота носа','Довжина кінчика носа','Глибина моста носа','Висота кінчика носа','Зміщення носа'],brows:['Висота брів','Ширина брів'],cheeks:['Висота скул','Ширина скул','Ширина щік'],eyes:['Розмір очей'],lips:['Товщина губ'],jaw:['Ширина щелепи','Форма щелепи'],chin:['Висота підборіддя','Глибина підборіддя','Ширина підборіддя','Товщина підборіддя','Товщина шиї']};export default class CharacterFace extends Component{constructor(){super(...arguments);this.state={activeOption:'nose',facedata:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};}componentDidMount(){rpc.callClient('CharCreator-GetState').then(data=>{this.setState(()=>({facedata:data.facedata}));});}async changeFaceData(prop,value){await this.setState(state=>({facedata:state.facedata.map((item,index)=>prop===index?value:item)}));rpc.callClient('Character-UpdateFaceOptions',[prop,value]);}selectOption(name){this.setState(()=>({activeOption:name}));}getStartIndex(option){let index=0;Object.entries(items).every(_ref=>{let[name,list]=_ref;if(option===name)return false;index+=list.length;return true;});return index;}render(){const{activeOption,facedata}=this.state;const startIndex=this.getStartIndex(activeOption);return/*#__PURE__*/React.createElement(\"div\",{className:\"character_item character_item--face\"},items[activeOption].map((item,index)=>/*#__PURE__*/React.createElement(Slider,{key:item,title:item,value:facedata[startIndex+index],step:0.1,min:-1,max:1.0,onChange:value=>this.changeFaceData(startIndex+index,value)})),/*#__PURE__*/React.createElement(Options,{items:options,selected:activeOption,select:this.selectOption.bind(this)}));}}","map":null,"metadata":{},"sourceType":"module"}