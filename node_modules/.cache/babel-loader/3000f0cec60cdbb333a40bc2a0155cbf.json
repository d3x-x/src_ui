{"ast":null,"code":"import React,{Component}from'react';import{Page,Navbar,List,ListItem}from'framework7-react';import moment from'moment-timezone';import rpc from'utils/rpc';import{showNotification}from'utils/notifications';export default class PoliceCalls extends Component{constructor(){super(...arguments);this.state={calls:[]};}componentDidMount(){rpc.callServer('PoliceCalls-GetList').then(calls=>this.setState(()=>({calls})));}async markPosition(id){try{await rpc.callServer('PoliceCalls-MarkPosition',id);showNotification('info','Розташування позначено на картi');}catch(err){if(err.msg)showNotification('error',err.msg);}}render(){const{calls}=this.state;return/*#__PURE__*/React.createElement(Page,null,/*#__PURE__*/React.createElement(Navbar,{title:\"\\u0412\\u0438\\u043A\\u043B\\u0438\\u043A\\u0438\"}),/*#__PURE__*/React.createElement(List,{mediaList:true,inset:true},calls.reverse().map((call,index)=>/*#__PURE__*/React.createElement(ListItem,{key:call.id,title:\"\\u0412\\u0438\\u043A\\u043B\\u0438\\u043A \\u2116\".concat(index+1),after:moment(call.createdAt).format('HH:mm'),subtitle:call.message,link:\"#\",onClick:this.markPosition.bind(this,call.id)}))));}}","map":null,"metadata":{},"sourceType":"module"}