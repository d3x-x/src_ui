{"ast":null,"code":"import React,{Component}from'react';import prettify from'utils/prettify';import PrimaryTitle from'components/Common/primary-title';import BusinessInfoItem from'./info-item';class BusinessMain extends Component{constructor(){super(...arguments);this.state={hour:0,min:0};this.progressInterval=void 0;}componentDidMount(){this.runTimer(this.props.paymentTime);}componentDidUpdate(prevProps){if(this.props.paymentTime!==prevProps.paymentTime){this.runTimer(this.props.paymentTime);}}componentWillUnmount(){this.stopTimer();}runTimer(time){if(!time||time<0)return;this.setState(()=>({hour:Math.floor(time/(1000*60*60)%24),min:Math.floor(time/1000/60%60)}));this.progressInterval=setInterval(()=>{const{hour,min}=this.state;if(hour===0&&min===0)return this.stopTimer();if(min>0)this.setState(state=>({min:state.min-1}));else if(hour>0)this.setState(state=>({hour:state.hour-1,min:59}));},60000);}stopTimer(){if(this.progressInterval){clearInterval(this.progressInterval);this.progressInterval=undefined;}}render(){const{isOwner,name,owner,tax,price,income,paid}=this.props;const{min,hour}=this.state;return/*#__PURE__*/React.createElement(\"div\",{className:\"business_main\"},/*#__PURE__*/React.createElement(PrimaryTitle,null,name),/*#__PURE__*/React.createElement(\"div\",{className:\"business_info\"},/*#__PURE__*/React.createElement(BusinessInfoItem,{title:\"\\u0412\\u043B\\u0430\\u0441\\u043D\\u0438\\u043A\"},owner||'Вiдсутнє'),/*#__PURE__*/React.createElement(BusinessInfoItem,{title:\"\\u041F\\u0440\\u0438\\u0431\\u0443\\u0442\\u043E\\u043A \\u0437\\u0430 \\u0434\\u043E\\u0431\\u0443\"},prettify.price(income)),/*#__PURE__*/React.createElement(BusinessInfoItem,{title:\"\\u0412\\u0430\\u0440\\u0442i\\u0441\\u0442\\u044C \\u043D\\u0430 \\u0434\\u0435\\u043D\\u044C\"},prettify.price(tax)),/*#__PURE__*/React.createElement(BusinessInfoItem,{title:isOwner?'Держ. продаж':'Цiна'},prettify.price(price)),isOwner&&/*#__PURE__*/React.createElement(\"div\",{className:\"business_info-owned\"},/*#__PURE__*/React.createElement(BusinessInfoItem,{title:\"\\u041E\\u043F\\u043B\\u0430\\u0447\\u0435\\u043D\\u043E \\u0434\\u043Di\\u0432\"},paid.toString()),/*#__PURE__*/React.createElement(BusinessInfoItem,{title:\"\\u0414\\u043E \\u043F\\u0440\\u0438\\u0431\\u0443\\u0442\\u043A\\u0443\"},\"\".concat(hour.toString().padStart(2,'0'),\":\").concat(min.toString().padStart(2,'0'))))));}}export default BusinessMain;","map":null,"metadata":{},"sourceType":"module"}