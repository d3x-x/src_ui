{"ast":null,"code":"import React,{Component}from'react';import rpc from'utils/rpc';import withPayment from'components/Common/with-payment';import withRotation from'components/Common/with-rotation';import Page from'components/Character/page';import Body from'components/Character/body';import Face from'components/Character/face';import GradientButton from'components/Common/gradient-button';import TotalPrice from'components/Common/total-price';import Hint from'components/Common/hint';const pages={body:'Персонаж',face:'Черты лица'};class Surgeon extends Component{constructor(){super(...arguments);this.state={activePage:'body',price:0};}componentDidMount(){this.setState(()=>this.props.location.state);}getPageComponent(){const{activePage}=this.state;switch(activePage){case'body':return/*#__PURE__*/React.createElement(Body,null);case'face':return/*#__PURE__*/React.createElement(Face,null);default:break;}}openPage(name){this.setState(()=>({activePage:name}));}switchPage(increase){const items=Object.keys(pages);const pageIndex=items.indexOf(this.state.activePage);if(increase&&pageIndex===items.length-1){return this.props.showPayment(this.buy.bind(this));}if(!increase&&pageIndex===0)return this.close();this.openPage(increase?items[pageIndex+1]:items[pageIndex-1]);}async buy(payment){const data=await rpc.callClient('Surgeon-GetData');await rpc.callServer('Surgeon-Buy',[data,payment]);}close(){rpc.callClient('Surgeon-CloseMenu');}render(){const{activePage,price}=this.state;return/*#__PURE__*/React.createElement(\"div\",{className:\"surgeon\"},/*#__PURE__*/React.createElement(Page,{items:pages,current:activePage,open:this.openPage.bind(this)}),/*#__PURE__*/React.createElement(\"div\",{className:\"surgeon_container\"},/*#__PURE__*/React.createElement(\"button\",{className:\"character_btn\",onClick:this.switchPage.bind(this,false)},\"\\u041D\\u0430\\u0437\\u0430\\u0434\"),this.getPageComponent(),/*#__PURE__*/React.createElement(TotalPrice,{className:\"surgeon_price\",title:\"\\u0426\\u0456\\u043D\\u0430:\",value:price}),/*#__PURE__*/React.createElement(GradientButton,{onClick:this.switchPage.bind(this,true)},\"\\u0414\\u0430\\u043B\\u0456\")),/*#__PURE__*/React.createElement(Hint,{className:\"character_hint\",action:\"drag\"},\"\\u041F\\u043E\\u0432\\u043E\\u0440\\u043E\\u0442 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u0436\\u0430\"));}}export default withPayment(withRotation(Surgeon));","map":null,"metadata":{},"sourceType":"module"}