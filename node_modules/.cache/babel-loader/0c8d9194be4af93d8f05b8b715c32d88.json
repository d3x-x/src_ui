{"ast":null,"code":"import React,{Component}from'react';import rpc from'utils/rpc';import Select from'react-select';export default class AdminPlayers extends Component{constructor(){super(...arguments);this.state={options:[]};}async fetchPlayers(){if(this.state.options.length>0)return;const data=await rpc.callServer('Admin-GetPlayers');const prepared=data.map(item=>({value:item.id,label:\"\".concat(item.name,\" (\").concat(item.id,\")\"),dbId:item.dbId}));this.setState(()=>({options:prepared}));}selectPlayer(data){this.setState(()=>({selected:data}));if(data){this.props.onChange({dbId:data.dbId,id:data.value});}}render(){const{options}=this.state;return/*#__PURE__*/React.createElement(\"div\",{className:\"admin_players\"},/*#__PURE__*/React.createElement(Select,{className:\"admin_select\",classNamePrefix:\"admin_select\",placeholder:\"\\u0418\\u0433\\u0440\\u043E\\u043A\",options:options,noOptionsMessage:()=>'Не знайдений',onChange:data=>this.selectPlayer(data),onMenuOpen:this.fetchPlayers.bind(this)}));}}","map":null,"metadata":{},"sourceType":"module"}