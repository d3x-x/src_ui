{"ast":null,"code":"import React,{Component}from'react';import rpc from'utils/rpc';import withPayment from'components/Common/with-payment';import PrimaryTitle from'components/Common/primary-title';import OutlineButton from'components/Common/outline-button';import GradientButton from'components/Common/gradient-button';import TotalPrice from'components/Common/total-price';import Categories from'./categories';import Preview from'./preview';import Spec from'./spec';import Ammo from'./ammo';import List from'./list';class Weapons extends Component{constructor(){super(...arguments);this.state={prices:{},activeCategory:'melee',selectedWeapon:'bottle'};}componentDidMount(){const{prices}=this.props.location.state;this.setState(()=>({prices,selectedWeapon:Object.keys(prices)[0]}));}setCategory(name){this.setState(()=>({activeCategory:name}));}selectWeapon(name){this.setState(()=>({selectedWeapon:name}));}async buy(payment){const{selectedWeapon}=this.state;await rpc.callServer('Weapons-Buy',[selectedWeapon,payment]);}render(){const{prices,activeCategory,selectedWeapon}=this.state;return/*#__PURE__*/React.createElement(\"div\",{className:\"weapons\"},/*#__PURE__*/React.createElement(\"div\",{className:\"weapons_main\"},/*#__PURE__*/React.createElement(Categories,{current:activeCategory,select:this.setCategory.bind(this)}),/*#__PURE__*/React.createElement(PrimaryTitle,{className:\"weapons_title\"},\"Ammu-Nation\"),/*#__PURE__*/React.createElement(List,{category:activeCategory,selected:selectedWeapon,selectItem:this.selectWeapon.bind(this)}),/*#__PURE__*/React.createElement(\"div\",{className:\"weapons_footer\"},/*#__PURE__*/React.createElement(OutlineButton,{isClose:true},\"\\u0417\\u0430\\u043A\\u0440\\u0438\\u0442\\u0438\"),/*#__PURE__*/React.createElement(TotalPrice,{className:\"weapons_price\",value:prices[selectedWeapon]}),/*#__PURE__*/React.createElement(GradientButton,{onClick:()=>this.props.showPayment(this.buy.bind(this))},\"\\u041A\\u0443\\u043F\\u0438\\u0442\\u0438\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"weapons_container\"},/*#__PURE__*/React.createElement(Preview,{weapon:selectedWeapon}),/*#__PURE__*/React.createElement(Spec,{weapon:selectedWeapon}),/*#__PURE__*/React.createElement(Ammo,{prices:prices,showPayment:this.props.showPayment})));}}export default withPayment(Weapons);","map":null,"metadata":{},"sourceType":"module"}