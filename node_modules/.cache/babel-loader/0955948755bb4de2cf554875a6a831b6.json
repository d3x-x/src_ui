{"ast":null,"code":"import React from'react';import rpc from'utils/rpc';import{Formik,Form}from'formik';import*as Yup from'yup';import GradientButton from'components/Common/gradient-button';import PrimaryTitle from'components/Common/primary-title';import Field from'./field';export default function Login(_ref){let{setEmail,openForm,email=''}=_ref;return/*#__PURE__*/React.createElement(\"div\",{className:\"auth_login\"},/*#__PURE__*/React.createElement(PrimaryTitle,null,\"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446i\\u044F\"),/*#__PURE__*/React.createElement(\"div\",{className:\"auth_login-container\"},/*#__PURE__*/React.createElement(Formik,{initialValues:{email,password:''},validationSchema:Yup.object({email:Yup.string().email('Некоректний e-mail').required('заповнiть поле'),password:Yup.string().required('заповнiть поле')}),onSubmit:(values,actions)=>{rpc.callServer('Auth-SignIn',Object.values(values)).then(()=>rpc.callClient('Auth-SuccessLogin',values.email)).catch(err=>{if(err.confirm){setEmail(values.email);return openForm('confirm');}actions.setFieldError(err.field,err.message);});}},/*#__PURE__*/React.createElement(Form,{className:\"auth_form\"},/*#__PURE__*/React.createElement(Field,{title:\"\\u0412\\u0432\\u0435\\u0434i\\u0442\\u044C e-mail\",type:\"email\",name:\"email\",placeholder:\"streetrp@gta.com\"}),/*#__PURE__*/React.createElement(Field,{title:\"\\u0412\\u0430\\u0448 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:\"password\",name:\"password\",placeholder:\"********\"}),/*#__PURE__*/React.createElement(\"a\",{className:\"auth_login-forgot\",onClick:()=>openForm('forgot')},\"\\u0417\\u0430\\u0431\\u0443\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C?\"),/*#__PURE__*/React.createElement(GradientButton,{type:\"submit\"},\"\\u0423\\u0432i\\u0439\\u0442\\u0438\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"auth_login-promo\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"title\"},\"\\u041D\\u0435\\u043C\\u0430\\u0454 \\u043E\\u0431\\u043Bi\\u043A\\u043E\\u0432\\u043E\\u0433\\u043E \\u0437\\u0430\\u043F\\u0438\\u0441\\u0443?\"),/*#__PURE__*/React.createElement(\"button\",{className:\"create-button\",onClick:()=>openForm('register')},\"\\u0422\\u0438\\u0441\\u043D\\u0438 \\u0441\\u044E\\u0434\\u0438\"),/*#__PURE__*/React.createElement(\"p\",{className:\"descr\"},\"i \\u0441\\u0442\\u0432\\u043E\\u0440\\u0438 \\u0439\\u043E\\u0433\\u043E \\u0437\\u0430\\u0440\\u0430\\u0437\"))));}","map":null,"metadata":{},"sourceType":"module"}