{"ast":null,"code":"import React,{Component}from'react';import rpc from'utils/rpc';import Selector from'./selector';import Slider from'./slider';const genderList={male:'Чоловічий',female:'Жіночий'};const names={mother:['Ганна','Аві','Жасмін','Ґізель','Амелія','Ізабелла','Зоя','Ева','Каміла','Фіолета','Софія','Евелін','Ніколь','Ашлі','Грейс','Бріанна','Наталія','Олівія','Єлизавета','Шарлотта','Емма','Місті'],father:['Бенджамін','Даниїл','Джошуа','Ноа','Ендрю','Хуан','Олекс','Ісаак','Єван','Етан','Вінсент','Ангел','Дієго','Адріан','Віктор','Максим','Сантьяго','Кевін','Андрій','Самуель','Антоні','Клауд','Ніко','Джон']};const parents={father:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,42,43,44],mother:[21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,45]};export default class CharacterBody extends Component{constructor(){super(...arguments);this.state={gender:'male',mother:0,father:0,similarity:0.5,skin:6};}componentDidMount(){this.getSavedState();}async getSavedState(){const{gender,skindata}=await rpc.callClient('CharCreator-GetState');this.setState(()=>({gender,mother:parents.mother.indexOf(skindata[0]),father:parents.father.indexOf(skindata[1]),similarity:skindata[2],skin:skindata[3]}));}changeAppearance(){const{mother,father,similarity,skin}=this.state;rpc.callClient('Character-UpdateParents',[parents.mother[mother],parents.father[father],similarity,skin]);}async switchParent(parent,value){await this.setState(()=>({[parent]:names[parent].indexOf(value)}));this.changeAppearance();}async changeSkin(name,value){await this.setState(state=>({...state,[name]:value}));this.changeAppearance();}async toggleGender(value){await rpc.callClient('Character-ChangeGender',value);await this.getSavedState();}render(){const{gender,father,mother,similarity,skin}=this.state;return/*#__PURE__*/React.createElement(\"div\",{className:\"character_item character_item--body\"},/*#__PURE__*/React.createElement(Selector,{title:\"\\u041F\\u043E\\u043B\",items:Object.keys(genderList),value:gender,customValue:genderList[gender],onChange:this.toggleGender.bind(this)}),/*#__PURE__*/React.createElement(Selector,{title:\"\\u041C\\u0430\\u0442\\u044C\",value:names.mother[mother],items:names.mother,onChange:this.switchParent.bind(this,'mother')}),/*#__PURE__*/React.createElement(Selector,{title:\"\\u041E\\u0442\\u0435\\u0446\",value:names.father[father],items:names.father,onChange:this.switchParent.bind(this,'father')}),/*#__PURE__*/React.createElement(Slider,{title:\"\\u0421\\u0445\\u043E\\u0436\\u0435\\u0441\\u0442\\u044C\",value:similarity,min:0,max:1,step:0.1,onChange:value=>this.changeSkin('similarity',value)}),/*#__PURE__*/React.createElement(Slider,{title:\"\\u0426\\u0432\\u0435\\u0442 \\u043A\\u043E\\u0436\\u0438\",value:skin,min:0,max:12,onChange:value=>this.changeSkin('skin',value)}));}}","map":null,"metadata":{},"sourceType":"module"}