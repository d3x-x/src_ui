{"ast":null,"code":"import React,{Component}from'react';import rpc from'utils/rpc';export default function withRotation(WrappedComponent){return class extends Component{constructor(){super(...arguments);this.state={active:false,position:0};this.onMouseDown=event=>{var _ref,_ref$target;const parentNode=(_ref=event)===null||_ref===void 0?void 0:(_ref$target=_ref.target)===null||_ref$target===void 0?void 0:_ref$target.parentNode;if((parentNode===null||parentNode===void 0?void 0:parentNode.id)!=='root'&&parentNode!==document.body)return;this.setState(()=>({active:true,position:event.clientX}));};this.onMouseUp=()=>{this.setState(()=>({active:false,position:0}));rpc.callClient('playerStopRotation');};this.rotateCamera=event=>{const{active,position}=this.state;const x=event.clientX;if(!active||position===x)return;this.setState(()=>({position:x}));rpc.callClient('playerRotation',position<x);};}componentDidMount(){document.addEventListener('mousedown',this.onMouseDown);document.addEventListener('mouseup',this.onMouseUp);document.addEventListener('mousemove',this.rotateCamera);}componentWillUnmount(){document.removeEventListener('mousedown',this.onMouseDown);document.removeEventListener('mouseup',this.onMouseUp);document.removeEventListener('mousemove',this.rotateCamera);}render(){return/*#__PURE__*/React.createElement(WrappedComponent,this.props);}};}","map":null,"metadata":{},"sourceType":"module"}