{"ast":null,"code":"import React,{Component}from'react';import rpc from'utils/rpc';import withPayment from'components/Common/with-payment';import withRotation from'components/Common/with-rotation';import Selector from'components/Common/selector';import OutlineButton from'components/Common/outline-button';import GradientButton from'components/Common/gradient-button';import Hint from'components/Common/hint';import Categories from'./categories';import Price from'./price';class TattooShop extends Component{constructor(){super(...arguments);this.state={activeCategory:'head',items:0,currentItem:0,prices:{},isExists:false};}componentDidMount(){this.setState(()=>this.props.location.state);this.setCategory(this.state.activeCategory);}async setCategory(name){const data=await rpc.callClient('TattooShop-ChangeType',name);this.setState(()=>({activeCategory:name,currentItem:0,...data}));}async changeItem(index){const isExists=await rpc.callClient('TattooShop-SetItem',index);this.setState(()=>({currentItem:index,isExists}));}async buy(payment){await rpc.callClient('TattooShop-Buy',payment);this.setState(()=>({isExists:true}));}async remove(payment){await rpc.callClient('TattooShop-Remove',payment);this.setState(()=>({isExists:false}));}render(){const{activeCategory,items,currentItem,prices,isExists}=this.state;return/*#__PURE__*/React.createElement(\"div\",{className:\"tattoo-shop\"},/*#__PURE__*/React.createElement(Hint,{className:\"tattoo-shop_hint\",action:\"drag\"},\"\\u041F\\u043E\\u0432\\u043E\\u0440\\u043E\\u0442 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u0436\\u0430\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tattoo-shop_container\"},/*#__PURE__*/React.createElement(Categories,{current:activeCategory,setCategory:this.setCategory.bind(this)}),/*#__PURE__*/React.createElement(\"div\",{className:\"tattoo-shop_main\"},/*#__PURE__*/React.createElement(Selector,{className:\"tattoo-shop_selector\",value:currentItem,items:[...Array(items).keys()],onChange:this.changeItem.bind(this)}),/*#__PURE__*/React.createElement(Price,{value:prices[activeCategory]}))),/*#__PURE__*/React.createElement(\"div\",{className:\"tattoo-shop_buttons\"},isExists?/*#__PURE__*/React.createElement(GradientButton,{color:\"purple\",onClick:()=>this.props.showPayment(this.remove.bind(this))},\"\\u0412\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438\"):/*#__PURE__*/React.createElement(GradientButton,{onClick:()=>this.props.showPayment(this.buy.bind(this))},\"\\u041A\\u0443\\u043F\\u0438\\u0442\\u0438\"),/*#__PURE__*/React.createElement(OutlineButton,{onClick:()=>rpc.callClient('TattooShop-CloseMenu')},\"\\u0417\\u0430\\u043A\\u0440\\u0438\\u0442\\u0438\")));}}export default withPayment(withRotation(TattooShop));","map":null,"metadata":{},"sourceType":"module"}