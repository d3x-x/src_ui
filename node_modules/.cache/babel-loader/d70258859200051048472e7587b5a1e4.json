{"ast":null,"code":"import React from'react';import{Page,Navbar,List,ListInput,ListButton}from'framework7-react';import{Formik,Form}from'formik';import*as Yup from'yup';import{showNotification}from'utils/notifications';import rpc from'utils/rpc';export default function UserFine(_ref){let{f7router,userId}=_ref;async function writeTicket(sum,reason){try{if(!userId)return;await rpc.callServer('Police-WriteTicket',[userId,{sum,reason}]);f7router.back();}catch(err){if(err.msg)showNotification('error',err.msg);}}return/*#__PURE__*/React.createElement(Page,null,/*#__PURE__*/React.createElement(Navbar,{title:\"\\u0428\\u0442\\u0440\\u0430\\u0444\",backLink:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/React.createElement(Formik,{initialValues:{sum:'',reason:''},validationSchema:Yup.object({sum:Yup.number().required().min(1).max(1000000),reason:Yup.string().required().min(1).max(100)}),onSubmit:values=>writeTicket(+values.sum,values.reason)},_ref2=>{let{values,handleChange,submitForm}=_ref2;return/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(List,{inset:true},/*#__PURE__*/React.createElement(ListInput,{clearButton:true,name:\"sum\",type:\"number\",placeholder:\"\\u0421\\u0443\\u043C\\u0430\",info:\"\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u0430 \\u0441\\u0443\\u043C\\u0430 12000$\",value:values.sum,onChange:handleChange,onInputClear:handleChange}),/*#__PURE__*/React.createElement(ListInput,{clearButton:true,name:\"reason\",type:\"text\",placeholder:\"\\u041F\\u0440\\u0438\\u0447\\u0438\\u043D\\u0430\",info:\"\\u041A\\u043E\\u0440\\u043E\\u0442\\u043A\\u043E \\u043E\\u043F\\u0438\\u0448i\\u0442\\u044C \\u043F\\u043E\\u0440\\u0443\\u0448\\u0435\\u043D\\u043D\\u044F\",value:values.reason,onChange:handleChange,onInputClear:handleChange})),/*#__PURE__*/React.createElement(List,{inset:true},/*#__PURE__*/React.createElement(ListButton,{title:\"\\u0412\\u0438\\u043F\\u0438\\u0441\\u0430\\u0442\\u0438\",onClick:submitForm})));}));}","map":null,"metadata":{},"sourceType":"module"}