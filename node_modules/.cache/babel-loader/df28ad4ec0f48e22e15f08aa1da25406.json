{"ast":null,"code":"import React,{Component}from'react';import rpc from'utils/rpc';import{showNotification}from'utils/notifications';import Title from'../partials/title';import List from'./list';import Vehicle from'./vehicle';export default class Vehicles extends Component{constructor(){super(...arguments);this.state={vehicles:[]};}componentDidMount(){rpc.callServer('Vehicle-GetPlayerList').then(items=>this.setState(()=>({vehicles:items})));}selectVehicle(vehicle){this.setState(()=>({selectedVehicle:vehicle}));}async getVehiclePosition(){const{selectedVehicle}=this.state;if(!selectedVehicle)return;try{await rpc.callServer('Vehicle-MarkPosition',selectedVehicle.id);showNotification('info','Розташування ТЗ відмічено на карті');}catch(err){showNotification('error','Спочатку замовте це ТЗ');}}async spawnVehicle(){const{selectedVehicle}=this.state;if(!selectedVehicle)return;try{const position=await rpc.callClient('Vehicle-GetSpawnCoords',selectedVehicle.model);await rpc.callServer('Vehicle-DeliverForPlayer',[selectedVehicle.id,position]);showNotification('info','Ваше ТЗ скоро буде доставлено');}catch(err){if(err.msg)showNotification('error',err.msg);}}async despawnVehicle(){const{selectedVehicle}=this.state;if(!selectedVehicle)return;try{await rpc.callServer('Vehicle-DespawnItem',selectedVehicle.id);showNotification('info','Чекайте на евакуацію найближчим часом.');}catch(err){if(err.msg)showNotification('error',err.msg);}}render(){const{vehicles,selectedVehicle}=this.state;return/*#__PURE__*/React.createElement(\"div\",{className:\"vehicles\"},selectedVehicle?/*#__PURE__*/React.createElement(Vehicle,{data:selectedVehicle,getPosition:this.getVehiclePosition.bind(this),spawn:this.spawnVehicle.bind(this),despawn:this.despawnVehicle.bind(this),close:()=>this.selectVehicle()}):/*#__PURE__*/React.createElement(\"div\",{className:\"vehicles_main\"},/*#__PURE__*/React.createElement(Title,{className:\"vehicles_main-title\"},\"\\u0412\\u0430\\u0448 \\u0442\\u0440\\u0430\\u043D\\u0441\\u043F\\u043E\\u0440\\u0442\"),/*#__PURE__*/React.createElement(List,{items:vehicles,selectItem:this.selectVehicle.bind(this)})));}}","map":null,"metadata":{},"sourceType":"module"}