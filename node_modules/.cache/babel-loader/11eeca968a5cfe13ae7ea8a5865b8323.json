{"ast":null,"code":"import React,{Component}from'react';import rpc from'utils/rpc';import withRotation from'components/Common/with-rotation';import Selector from'components/Common/selector';import OutlineButton from'components/Common/outline-button';import GradientButton from'components/Common/gradient-button';import Hint from'components/Common/hint';import Categories from'./categories';class FactionWardrobe extends Component{constructor(){super(...arguments);this.state={activeCategory:'hat',items:0,currentItem:0,onDuty:false};}componentDidMount(){this.setState(()=>this.props.location.state);this.setCategory(this.state.activeCategory);}async setCategory(name){const amount=await rpc.callClient('FactionWardrobe-ChangeType',name);this.setState(()=>({activeCategory:name,items:amount,currentItem:0}));}async changeItem(index){await this.setState(()=>({currentItem:index}));await rpc.callClient('FactionWardrobe-ChangeItem',index);}async startWork(){await rpc.callServer('Factions-StartWork');this.setState(()=>({onDuty:true}));}async finishWork(){if(!this.state.onDuty)return;await rpc.callServer('Factions-FinishWork');this.setState(()=>({onDuty:false}));}render(){const{activeCategory,items,currentItem,onDuty}=this.state;return/*#__PURE__*/React.createElement(\"div\",{className:\"faction-wardrobe\"},/*#__PURE__*/React.createElement(Hint,{className:\"faction-wardrobe_hint\",action:\"drag\"},\"\\u041F\\u043E\\u0432\\u043E\\u0440\\u043E\\u0442 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u0436\\u0430\"),/*#__PURE__*/React.createElement(\"div\",{className:\"faction-wardrobe_container\"},/*#__PURE__*/React.createElement(Categories,{current:activeCategory,setCategory:this.setCategory.bind(this)}),/*#__PURE__*/React.createElement(\"div\",{className:\"faction-wardrobe_main\"},/*#__PURE__*/React.createElement(Selector,{className:\"faction-wardrobe_selector\",value:currentItem,items:[...Array(items).keys()],onChange:this.changeItem.bind(this)}))),/*#__PURE__*/React.createElement(\"div\",{className:\"faction-wardrobe_buttons\"},onDuty?/*#__PURE__*/React.createElement(GradientButton,{color:\"purple\",onClick:this.finishWork.bind(this)},\"\\u0417\\u0430\\u043Ai\\u043D\\u0447\\u0438\\u0442\\u0438 \\u0437\\u043Ci\\u043D\\u0443\"):/*#__PURE__*/React.createElement(GradientButton,{onClick:this.startWork.bind(this)},\"\\u041F\\u043E\\u0447\\u0430\\u0442\\u0438 \\u0437\\u043Ci\\u043D\\u0443\"),/*#__PURE__*/React.createElement(OutlineButton,{onClick:()=>rpc.callClient('FactionWardrobe-CloseMenu')},\"\\u0417\\u0430\\u043A\\u0440\\u0438\\u0442\\u0438\")));}}export default withRotation(FactionWardrobe);","map":null,"metadata":{},"sourceType":"module"}