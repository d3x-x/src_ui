{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport React, { forwardRef, useRef, useImperativeHandle } from 'react';\nimport { useIsomorphicLayoutEffect } from '../shared/use-isomorphic-layout-effect';\nimport { classNames, getExtraAttrs, noUndefinedProps, emit } from '../shared/utils';\nimport { colorClasses } from '../shared/mixins';\nimport { f7ready, f7 } from '../shared/f7';\nimport { watchProp } from '../shared/watch-prop';\nvar Range = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _f7Range = useRef(null);\n  var className = props.className,\n    id = props.id,\n    style = props.style,\n    children = props.children,\n    _props$init = props.init,\n    init = _props$init === void 0 ? true : _props$init,\n    _props$value = props.value,\n    value = _props$value === void 0 ? 0 : _props$value,\n    _props$min = props.min,\n    min = _props$min === void 0 ? 0 : _props$min,\n    _props$max = props.max,\n    max = _props$max === void 0 ? 100 : _props$max,\n    _props$step = props.step,\n    step = _props$step === void 0 ? 1 : _props$step,\n    _props$label = props.label,\n    label = _props$label === void 0 ? false : _props$label,\n    _props$dual = props.dual,\n    dual = _props$dual === void 0 ? false : _props$dual,\n    _props$vertical = props.vertical,\n    vertical = _props$vertical === void 0 ? false : _props$vertical,\n    _props$verticalRevers = props.verticalReversed,\n    verticalReversed = _props$verticalRevers === void 0 ? false : _props$verticalRevers,\n    _props$draggableBar = props.draggableBar,\n    draggableBar = _props$draggableBar === void 0 ? true : _props$draggableBar,\n    formatLabel = props.formatLabel,\n    _props$scale = props.scale,\n    scale = _props$scale === void 0 ? false : _props$scale,\n    _props$scaleSteps = props.scaleSteps,\n    scaleSteps = _props$scaleSteps === void 0 ? 5 : _props$scaleSteps,\n    _props$scaleSubSteps = props.scaleSubSteps,\n    scaleSubSteps = _props$scaleSubSteps === void 0 ? 0 : _props$scaleSubSteps,\n    formatScaleLabel = props.formatScaleLabel,\n    _props$limitKnobPosit = props.limitKnobPosition,\n    limitKnobPosition = _props$limitKnobPosit === void 0 ? undefined : _props$limitKnobPosit,\n    name = props.name,\n    input = props.input,\n    inputId = props.inputId,\n    disabled = props.disabled;\n  var extraAttrs = getExtraAttrs(props);\n  var elRef = useRef(null);\n  useImperativeHandle(ref, function () {\n    return {\n      el: elRef.current,\n      f7Range: function f7Range() {\n        return _f7Range.current;\n      }\n    };\n  });\n  watchProp(value, function (newValue) {\n    if (!_f7Range.current) return;\n    var rangeValue = _f7Range.current.value;\n    if (Array.isArray(newValue) && Array.isArray(rangeValue)) {\n      if (rangeValue[0] !== newValue[0] || rangeValue[1] !== newValue[1]) {\n        _f7Range.current.setValue(newValue);\n      }\n    } else {\n      _f7Range.current.setValue(newValue);\n    }\n  });\n  var onChange = function onChange(range, val) {\n    emit(props, 'rangeChange', val);\n  };\n  var onChanged = function onChanged(range, val) {\n    emit(props, 'rangeChanged', val);\n  };\n  var rangeEvents = function rangeEvents(method) {\n    if (!_f7Range.current) return;\n    _f7Range.current[method]('change', onChange);\n    _f7Range.current[method]('changed', onChanged);\n  };\n  var onMount = function onMount() {\n    f7ready(function () {\n      if (!init || !elRef.current) return;\n      _f7Range.current = f7.range.create(noUndefinedProps({\n        el: elRef.current,\n        value: value,\n        min: min,\n        max: max,\n        step: step,\n        label: label,\n        dual: dual,\n        draggableBar: draggableBar,\n        vertical: vertical,\n        verticalReversed: verticalReversed,\n        formatLabel: formatLabel,\n        scale: scale,\n        scaleSteps: scaleSteps,\n        scaleSubSteps: scaleSubSteps,\n        formatScaleLabel: formatScaleLabel,\n        limitKnobPosition: limitKnobPosition\n      }));\n      rangeEvents('on');\n    });\n  };\n  var onDestroy = function onDestroy() {\n    if (_f7Range.current && _f7Range.current.destroy) _f7Range.current.destroy();\n    _f7Range.current = null;\n  };\n  useIsomorphicLayoutEffect(function () {\n    rangeEvents('on');\n    return function () {\n      rangeEvents('off');\n    };\n  });\n  useIsomorphicLayoutEffect(function () {\n    onMount();\n    return onDestroy;\n  }, []);\n  var classes = classNames(className, 'range-slider', {\n    'range-slider-horizontal': !vertical,\n    'range-slider-vertical': vertical,\n    'range-slider-vertical-reversed': vertical && verticalReversed,\n    disabled: disabled\n  }, colorClasses(props));\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: elRef,\n    id: id,\n    style: style,\n    className: classes\n  }, extraAttrs), input && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"range\",\n    name: name,\n    id: inputId\n  }), children);\n});\nRange.displayName = 'f7-range';\nexport default Range;","map":null,"metadata":{},"sourceType":"module"}