{"ast":null,"code":"import React,{Component}from'react';import rpc from'utils/rpc';import{showNotification}from'utils/notifications';import Navigation from'../../partials/navigation';import Button from'../../partials/button';import Group from'../../partials/group';import List from'./list';const items={cursor:'Курсор',noHUD:'Вiдображення iнтерфейсу',mic:'Голосовий чат',target:'Меню гравця',inventory:'iнвентар',tablet:'Планшет органiзацiї',engine:'Двигун',lock:'Замок ТЗ',seatbelt:'Ремiнь безпеки',cruise:'Круїз-контроль',left_ind:'Лiвий зовнiшнiй поворот',right_ind:'Правий зовнiшнiй поворот',quick_1:'Швидкий доступ 1',quick_2:'Швидкий доступ 2',quick_3:'Швидкий доступ 3'};export default class SettingsKeys extends Component{constructor(){super(...arguments);this.state={binds:{}};}componentDidMount(){this.getBindsFromClient();}getBindsFromClient(){rpc.callClient('HUD-GetBinds').then(data=>this.setState(()=>({binds:data})));}selectKeyBind(name){this.setState(()=>({selected:name}));}async saveKeyBind(key){const{selected,binds}=this.state;if(!selected||binds[selected]===key)return;try{await rpc.callClient('Binder-Rebind',[selected,key]);this.setState(()=>({binds:{...binds,[selected]:key}}));}catch(error){showNotification('error','Ця клавiша вже використовується');}}render(){const{selected,binds}=this.state;return/*#__PURE__*/React.createElement(\"div\",{className:\"settings_keys\"},selected?/*#__PURE__*/React.createElement(List,{name:items[selected],current:binds[selected],selectKey:this.saveKeyBind.bind(this),close:this.selectKeyBind.bind(this,undefined)}):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Navigation,{title:\"\\u041F\\u0440\\u0438\\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u043D\\u044F \\u043A\\u043B\\u0430\\u0432i\\u0448\",close:{title:'',onClick:this.props.close}}),/*#__PURE__*/React.createElement(Group,{className:\"settings_keys-list\"},Object.entries(items).map(_ref=>{let[name,title]=_ref;return/*#__PURE__*/React.createElement(Button,{icon:\"arrow\",key:name,current:binds[name],onClick:this.selectKeyBind.bind(this,name)},title);}))));}}","map":null,"metadata":{},"sourceType":"module"}